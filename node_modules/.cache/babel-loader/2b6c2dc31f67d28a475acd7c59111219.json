{"ast":null,"code":"var _jsxFileName = \"/Users/kayabulaalexjoseph/Desktop/WORK/STRIPE/Stripe Payments/elements-example/src/CheckoutForm.js\";\nimport React, { Component } from 'react';\nimport { CardElement, injectStripe } from 'react-stripe-elements';\nimport { toast } from 'react-toastify';\n\nclass CheckoutForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      complete: false\n    };\n    this.submit = this.submit.bind(this);\n  }\n\n  async submit(ev) {\n    let _ref = await this.props.stripe.createToken({\n      name: \"Name\"\n    }),\n        token = _ref.token;\n\n    let response = await fetch(\"/charge\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"text/plain\"\n      },\n      body: token.id\n    });\n\n    if (response.ok) {\n      this.setState({\n        complete: true\n      });\n    } else {\n      toast(\"Check your inputs\");\n    }\n  }\n\n  render() {\n    if (this.state.complete) {\n      return React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, \"Purchase complete\");\n    }\n\n    return React.createElement(\"div\", {\n      className: \"checkout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, \"Would you like to complete the purchase\"), React.createElement(CardElement, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, \"Purchase\"));\n  }\n\n}\n\nexport default injectStripe(CheckoutForm);","map":{"version":3,"sources":["/Users/kayabulaalexjoseph/Desktop/WORK/STRIPE/Stripe Payments/elements-example/src/CheckoutForm.js"],"names":["React","Component","CardElement","injectStripe","toast","CheckoutForm","constructor","props","state","complete","submit","bind","ev","stripe","createToken","name","token","response","fetch","method","headers","body","id","ok","setState","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,WAAR,EAAqBC,YAArB,QAAwC,uBAAxC;AACA,SAASC,KAAT,QAAsB,gBAAtB;;AAEA,MAAMC,YAAN,SAA2BJ,SAA3B,CAAqC;AACjCK,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAACC,MAAAA,QAAQ,EAAE;AAAX,KAAb;AACA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACH;;AAED,QAAMD,MAAN,CAAaE,EAAb,EAAgB;AAAA,eACE,MAAM,KAAKL,KAAL,CAAWM,MAAX,CAAkBC,WAAlB,CAA8B;AAACC,MAAAA,IAAI,EAAE;AAAP,KAA9B,CADR;AAAA,QACPC,KADO,QACPA,KADO;;AAEZ,QAAIC,QAAQ,GAAG,MAAMC,KAAK,CAAC,SAAD,EAAY;AAClCC,MAAAA,MAAM,EAAE,MAD0B;AAElCC,MAAAA,OAAO,EAAE;AAAC,wBAAgB;AAAjB,OAFyB;AAGlCC,MAAAA,IAAI,EAAEL,KAAK,CAACM;AAHsB,KAAZ,CAA1B;;AAMA,QAAIL,QAAQ,CAACM,EAAb,EAAgB;AACZ,WAAKC,QAAL,CAAc;AAACf,QAAAA,QAAQ,EAAE;AAAX,OAAd;AACH,KAFD,MAEM;AACFL,MAAAA,KAAK,CAAE,mBAAF,CAAL;AACH;AACJ;;AAEDqB,EAAAA,MAAM,GAAG;AACL,QAAI,KAAKjB,KAAL,CAAWC,QAAf,EAAwB;AACpB,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAP;AACH;;AAED,WACE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDADH,EAEG,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFH,EAGG;AAAQ,MAAA,OAAO,EAAE,KAAKC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHH,CADF;AAOH;;AAlCgC;;AAqCrC,eAAeP,YAAY,CAACE,YAAD,CAA3B","sourcesContent":["import React, {Component} from 'react';\nimport {CardElement, injectStripe} from 'react-stripe-elements';\nimport { toast } from 'react-toastify';\n\nclass CheckoutForm extends Component {\n    constructor(props){\n        super(props);\n        this.state = {complete: false};\n        this.submit = this.submit.bind(this);\n    }\n\n    async submit(ev){\n        let {token} = await this.props.stripe.createToken({name: \"Name\"});\n        let response = await fetch(\"/charge\", {\n            method: \"POST\",\n            headers: {\"Content-Type\": \"text/plain\"},\n            body: token.id\n        });\n\n        if (response.ok){\n            this.setState({complete: true});\n        } else{\n            toast (\"Check your inputs\")\n        }\n    }\n    \n    render() {\n        if (this.state.complete){\n            return <h1>Purchase complete</h1>\n        }\n\n        return (\n          <div className=\"checkout\">\n             <p>Would you like to complete the purchase</p>\n             <CardElement/>\n             <button onClick={this.submit}>Purchase</button>\n          </div>\n        );\n    }\n}\n\nexport default injectStripe(CheckoutForm)\n\n"]},"metadata":{},"sourceType":"module"}