{"ast":null,"code":"var _jsxFileName = \"/Users/kayabulaalexjoseph/Desktop/WORK/STRIPE/Stripe-Payments/elements-example/src/CheckoutForm.js\";\nimport React, { Component } from 'react';\nimport { CardElement, injectStripe } from 'react-stripe-elements';\nimport { toast } from 'react-toastify';\n\nconst createOptions = () => {\n  return {\n    style: {\n      base: {\n        fontSize: '16px',\n        color: '#424770',\n        fontFamily: 'Open Sans, sans-serif',\n        letterSpacing: '0.025em',\n        '::placeholder': {\n          color: '#aab7c4'\n        }\n      },\n      invalid: {\n        color: '#c23d4b'\n      }\n    }\n  };\n};\n\nclass CheckoutForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      complete: false\n    };\n    this.submit = this.submit.bind(this);\n  }\n\n  async submit(ev) {\n    let _ref = await this.props.stripe.createToken({\n      name: \"Name\"\n    }),\n        token = _ref.token;\n\n    let response = await fetch(\"/charge\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"text/plain\"\n      },\n      body: token.id\n    });\n\n    if (response.ok) {\n      this.setState({\n        complete: true\n      });\n    } else {\n      return toast(\"Check your inputs\");\n    }\n  }\n\n  render() {\n    if (this.state.complete) {\n      return React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Purchase complete\");\n    }\n\n    return React.createElement(\"div\", {\n      className: \"checkout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Would you like to complete\"), React.createElement(CardElement, Object.assign({}, createOptions(), {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      onClick: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Purchase\"));\n  }\n\n}\n\nexport default injectStripe(CheckoutForm);","map":{"version":3,"sources":["/Users/kayabulaalexjoseph/Desktop/WORK/STRIPE/Stripe-Payments/elements-example/src/CheckoutForm.js"],"names":["React","Component","CardElement","injectStripe","toast","createOptions","style","base","fontSize","color","fontFamily","letterSpacing","invalid","CheckoutForm","constructor","props","state","complete","submit","bind","ev","stripe","createToken","name","token","response","fetch","method","headers","body","id","ok","setState","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,WAAR,EAAqBC,YAArB,QAAwC,uBAAxC;AACA,SAASC,KAAT,QAAsB,gBAAtB;;AAEA,MAAMC,aAAa,GAAG,MAAM;AACxB,SAAO;AACLC,IAAAA,KAAK,EAAE;AACLC,MAAAA,IAAI,EAAE;AACJC,QAAAA,QAAQ,EAAE,MADN;AAEJC,QAAAA,KAAK,EAAE,SAFH;AAGJC,QAAAA,UAAU,EAAE,uBAHR;AAIJC,QAAAA,aAAa,EAAE,SAJX;AAKJ,yBAAiB;AACfF,UAAAA,KAAK,EAAE;AADQ;AALb,OADD;AAULG,MAAAA,OAAO,EAAE;AACPH,QAAAA,KAAK,EAAE;AADA;AAVJ;AADF,GAAP;AAgBD,CAjBH;;AAmBA,MAAMI,YAAN,SAA2BZ,SAA3B,CAAqC;AACjCa,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAACC,MAAAA,QAAQ,EAAE;AAAX,KAAb;AACA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACH;;AAED,QAAMD,MAAN,CAAaE,EAAb,EAAgB;AAAA,eACE,MAAM,KAAKL,KAAL,CAAWM,MAAX,CAAkBC,WAAlB,CAA8B;AAACC,MAAAA,IAAI,EAAE;AAAP,KAA9B,CADR;AAAA,QACPC,KADO,QACPA,KADO;;AAEZ,QAAIC,QAAQ,GAAG,MAAMC,KAAK,CAAC,SAAD,EAAY;AAClCC,MAAAA,MAAM,EAAE,MAD0B;AAElCC,MAAAA,OAAO,EAAE;AAAC,wBAAgB;AAAjB,OAFyB;AAGlCC,MAAAA,IAAI,EAAEL,KAAK,CAACM;AAHsB,KAAZ,CAA1B;;AAMA,QAAIL,QAAQ,CAACM,EAAb,EAAgB;AACZ,WAAKC,QAAL,CAAc;AAACf,QAAAA,QAAQ,EAAE;AAAX,OAAd;AACH,KAFD,MAEM;AACF,aAAOb,KAAK,CAAE,mBAAF,CAAZ;AACH;AACJ;;AAED6B,EAAAA,MAAM,GAAG;AACL,QAAI,KAAKjB,KAAL,CAAWC,QAAf,EAAwB;AACpB,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAP;AACH;;AAED,WACE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADH,EAEG,oBAAC,WAAD,oBACIZ,aAAa,EADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAFH,EAKG;AAAQ,MAAA,OAAO,EAAE,KAAKa,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALH,CADF;AASH;;AApCgC;;AAuCrC,eAAef,YAAY,CAACU,YAAD,CAA3B","sourcesContent":["import React, {Component} from 'react';\nimport {CardElement, injectStripe} from 'react-stripe-elements';\nimport { toast } from 'react-toastify';\n\nconst createOptions = () => {\n    return {\n      style: {\n        base: {\n          fontSize: '16px',\n          color: '#424770',\n          fontFamily: 'Open Sans, sans-serif',\n          letterSpacing: '0.025em',\n          '::placeholder': {\n            color: '#aab7c4',\n          },\n        },\n        invalid: {\n          color: '#c23d4b',\n        },\n      }\n    }\n  };\n\nclass CheckoutForm extends Component {\n    constructor(props){\n        super(props);\n        this.state = {complete: false};\n        this.submit = this.submit.bind(this);\n    }\n\n    async submit(ev){\n        let {token} = await this.props.stripe.createToken({name: \"Name\"});\n        let response = await fetch(\"/charge\", {\n            method: \"POST\",\n            headers: {\"Content-Type\": \"text/plain\"},\n            body: token.id\n        });\n\n        if (response.ok){\n            this.setState({complete: true});\n        } else{\n            return toast (\"Check your inputs\")\n        }\n    }\n    \n    render() {\n        if (this.state.complete){\n            return <h1>Purchase complete</h1>\n        }\n\n        return (\n          <div className=\"checkout\">\n             <p>Would you like to complete</p>\n             <CardElement\n             {...createOptions()}\n             />\n             <button onClick={this.submit}>Purchase</button>\n          </div>\n        );\n    }\n}\n\nexport default injectStripe(CheckoutForm)\n\n"]},"metadata":{},"sourceType":"module"}